

Sat Jul 26 14:57:10 2025
Command line: TestDisk

TestDisk 7.2, Data Recovery Utility, February 2024
Christophe GRENIER <grenier@cgsecurity.org>
https://www.cgsecurity.org
OS: Linux, kernel 6.14.7-arch2-1 (#1 SMP PREEMPT_DYNAMIC Thu, 22 May 2025 05:37:49 +0000) x86_64
Compiler: GCC 14.2
ext2fs lib: 1.47.2, ntfs lib: libntfs-3g, reiserfs lib: none, ewf lib: none, curses lib: ncurses 6.5
Warning: can't get size for Disk /dev/mapper/control - 0 B - 0 sectors, sector size=512
Hard disk list
Disk /dev/nvme0n1 - 512 GB / 476 GiB - CHS 488386 64 32, sector size=512 - WDC PC SN530 SDBPNPZ-512G-1002, S/N:20486P805351

Partition table type (auto): EFI GPT
Disk /dev/nvme0n1 - 512 GB / 476 GiB - WDC PC SN530 SDBPNPZ-512G-1002
Partition table type: EFI GPT

Analyse Disk /dev/nvme0n1 - 512 GB / 476 GiB - CHS 488386 64 32
hdr_size=92
hdr_lba_self=1
hdr_lba_alt=1000215215 (expected 1000215215)
hdr_lba_start=34
hdr_lba_end=1000215182
hdr_lba_table=2
hdr_entries=128
hdr_entsz=128
check_part_gpt failed for partition
 2 P MS Reserved               206848     239615      32768 [Microsoft reserved partition]
Current partition structure:
 1 P EFI System                  2048     206847     204800 [EFI system partition]
No FAT, NTFS, ext2, JFS, Reiser, cramfs or XFS marker
 2 P MS Reserved               206848     239615      32768 [Microsoft reserved partition]
 2 P MS Reserved               206848     239615      32768 [Microsoft reserved partition]
Warning: number of heads/cylinder mismatches 255 (NTFS) != 64 (HD)
Warning: number of sectors per track mismatches 63 (NTFS) != 32 (HD)
 3 P MS Data                   239616  792057855  791818240 [Basic data partition] [Windows]
 4 P Windows Recovery Env   792057856  793823231    1765376
 5 P EFI System             793823232  795461631    1638400
 6 P Linux filesys. data    795461632  963233791  167772160
 7 P Linux Swap             963233792  998625279   35391488

search_part()
Disk /dev/nvme0n1 - 512 GB / 476 GiB - CHS 488386 64 32
FAT32 at 1/0/1
FAT1 : 6654-7422
FAT2 : 7423-8191
start_rootdir : 8192 root cluster : 2
Data : 8192-204799
sectors : 204800
cluster_size : 2
no_of_cluster : 98304 (2 - 98305)
fat_length 769 calculated 769
heads/cylinder 255 (FAT) != 64 (HD)
sect/track 63 (FAT) != 32 (HD)
set_FAT_info: name from BS used

FAT32 at 1/0/1
FAT: cluster=2(0x2), pos=10240
     EFI System                  2048     206847     204800 [EFI System Partition] [NO NAME]
     FAT32, blocksize=1024, 104 MB / 100 MiB
NTFS at 117/0/1
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           791818240
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
NTFS part_offset=122683392, part_size=405410938880, sector_size=512
NTFS partition cannot be added (part_offset<part_size).
NTFS at 117/0/1
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           791818240
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                   239616  792057855  791818240 [Windows]
     NTFS, blocksize=4096, 405 GB / 377 GiB
NTFS at 386747/0/1
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           1765376
sectors_per_cluster       8
mft_lcn                   73557
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                790292481  792057856    1765376
     NTFS found using backup sector, blocksize=4096, 903 MB / 862 MiB
NTFS at 386747/0/1
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           1765376
sectors_per_cluster       8
mft_lcn                   73557
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                792057856  793823231    1765376
     NTFS, blocksize=4096, 903 MB / 862 MiB
FAT32 at 387609/0/1
FAT1 : 32-1631
FAT2 : 1632-3231
start_rootdir : 3232 root cluster : 2
Data : 3232-1638399
sectors : 1638400
cluster_size : 8
no_of_cluster : 204396 (2 - 204397)
fat_length 1600 calculated 1597
set_FAT_info: name from BS used

FAT32 at 387609/0/1
FAT: cluster=2(0x2), pos=793826464
     EFI System             793823232  795461631    1638400 [EFI System Partition] [NO NAME]
     FAT32, blocksize=4096, 838 MB / 800 MiB

recover_EXT2: s_block_group_nr=0/640, s_mnt_count=202/4294967295, s_blocks_per_group=32768, s_inodes_per_group=8192
recover_EXT2: s_blocksize=4096
recover_EXT2: s_blocks_count 20971520
recover_EXT2: part_size 167772160
Filesystem created: Sun Jun 23 02:08:07 2024
Last mount time:    Sat Jul 26 10:18:25 2025
     Linux filesys. data    795461632  963233791  167772160
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 85 GB / 80 GiB
     Linux Swap             963233792  998625263   35391472
     SWAP2 version 1, pagesize=4096, 18 GB / 16 GiB
NTFS at 487609/63/32
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           998385664
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                   239616  998625279  998385664 [Windows]
     NTFS found using backup sector, blocksize=4096, 511 GB / 476 GiB
NTFS at 487609/63/32
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           998385664
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
NTFS: Can't read MFT
     MS Data                998625279 1997010942  998385664
     NTFS, blocksize=4096, 511 GB / 476 GiB
This partition ends after the disk limits. (start=998625279, size=998385664, end=1997010942, disk end=1000215216)
NTFS at 487610/0/1
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           1587200
sectors_per_cluster       8
mft_lcn                   66133
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                997038081  998625280    1587200
     NTFS found using backup sector, blocksize=4096, 812 MB / 775 MiB
NTFS at 487610/0/1
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           1587200
sectors_per_cluster       8
mft_lcn                   66133
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                998625280 1000212479    1587200
     NTFS, blocksize=4096, 812 MB / 775 MiB
NTFS at 488385/63/32
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           999974912
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                   239616 1000214527  999974912 [Windows]
     NTFS found using backup sector, blocksize=4096, 511 GB / 476 GiB
NTFS at 488385/63/32
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           999974912
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
NTFS: Can't read MFT
     MS Data               1000214527 2000189438  999974912
     NTFS, blocksize=4096, 511 GB / 476 GiB
This partition ends after the disk limits. (start=1000214527, size=999974912, end=2000189438, disk end=1000215216)
NTFS at 488386/20/15
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           999647887
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
     MS Data                   567296 1000215182  999647887
     NTFS found using backup sector, blocksize=4096, 511 GB / 476 GiB
NTFS at 488386/20/15
heads/cylinder 255 (NTFS) != 64 (HD)
sect/track 63 (NTFS) != 32 (HD)
filesystem size           999647887
sectors_per_cluster       8
mft_lcn                   786432
mftmirr_lcn               2
clusters_per_mft_record   -10
clusters_per_index_record 1
NTFS: Can't read MFT
     MS Data               1000215182 1999863068  999647887
     NTFS, blocksize=4096, 511 GB / 476 GiB
This partition ends after the disk limits. (start=1000215182, size=999647887, end=1999863068, disk end=1000215216)
Disk /dev/nvme0n1 - 512 GB / 476 GiB - CHS 488386 64 32
Check the hard disk size: HD jumper settings, BIOS detection...
The hard disk (512 GB / 476 GiB) seems too small! (< 1024 GB / 953 GiB)
The following partitions can't be recovered:
     MS Data                998625279 1997010942  998385664
     NTFS, blocksize=4096, 511 GB / 476 GiB
     MS Data               1000214527 2000189438  999974912
     NTFS, blocksize=4096, 511 GB / 476 GiB
     MS Data               1000215182 1999863068  999647887
     NTFS, blocksize=4096, 511 GB / 476 GiB

Results
   P EFI System                  2048     206847     204800 [EFI System Partition] [NO NAME]
     FAT32, blocksize=1024, 104 MB / 100 MiB
     MS Data                   239616  792057855  791818240 [Windows]
     NTFS, blocksize=4096, 405 GB / 377 GiB
     MS Data                   239616  998625279  998385664 [Windows]
     NTFS found using backup sector, blocksize=4096, 511 GB / 476 GiB
     MS Data                   239616 1000214527  999974912 [Windows]
     NTFS found using backup sector, blocksize=4096, 511 GB / 476 GiB
     MS Data                   567296 1000215182  999647887
     NTFS found using backup sector, blocksize=4096, 511 GB / 476 GiB
     MS Data                790292481  792057856    1765376
     NTFS found using backup sector, blocksize=4096, 903 MB / 862 MiB
     MS Data                792057856  793823231    1765376
     NTFS, blocksize=4096, 903 MB / 862 MiB
     EFI System             793823232  795461631    1638400 [EFI System Partition] [NO NAME]
     FAT32, blocksize=4096, 838 MB / 800 MiB
     Linux filesys. data    795461632  963233791  167772160
     ext4 blocksize=4096 Large_file Sparse_SB Recover, 85 GB / 80 GiB
     Linux Swap             963233792  998625263   35391472
     SWAP2 version 1, pagesize=4096, 18 GB / 16 GiB
     MS Data                997038081  998625280    1587200
     NTFS found using backup sector, blocksize=4096, 812 MB / 775 MiB
     MS Data                998625280 1000212479    1587200
     NTFS, blocksize=4096, 812 MB / 775 MiB

Hint for advanced users: dmsetup may be used if you prefer to avoid rewriting the partition table for the moment:
echo "0 204800 linear /dev/nvme0n1 2048" | dmsetup create test0
echo "0 791818240 linear /dev/nvme0n1 239616" | dmsetup create test1
echo "0 998385664 linear /dev/nvme0n1 239616" | dmsetup create test2
echo "0 999974912 linear /dev/nvme0n1 239616" | dmsetup create test3
echo "0 999647887 linear /dev/nvme0n1 567296" | dmsetup create test4
echo "0 1765376 linear /dev/nvme0n1 790292481" | dmsetup create test5
echo "0 1765376 linear /dev/nvme0n1 792057856" | dmsetup create test6
echo "0 1638400 linear /dev/nvme0n1 793823232" | dmsetup create test7
echo "0 167772160 linear /dev/nvme0n1 795461632" | dmsetup create test8
echo "0 35391472 linear /dev/nvme0n1 963233792" | dmsetup create test9
echo "0 1587200 linear /dev/nvme0n1 997038081" | dmsetup create test10
echo "0 1587200 linear /dev/nvme0n1 998625280" | dmsetup create test11

interface_write()
 1 P EFI System                  2048     206847     204800 [EFI System Partition] [NO NAME]
simulate write!

TestDisk exited normally.
